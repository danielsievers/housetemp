# Snapping Verification Results

**Generated by:** `scripts/verify_snapping.py`

## Configuration

- **Heating:** 63-70°F (target 69°F home / 63°F away)
- **Cooling:** 69-78°F (target 70°F home / 68°F away)
- **Weights:** W=0, W=0.001, W=0.005, W=0.01 (cooling); W=0, W=0.05 (heating)

## Full Energy Table

| Scenario | Var | W | Naive Cont | Opt Cont | Cont% | Naive Disc | Opt Disc | Disc% |
|----------|-----|-----|-----------|----------|-------|-----------|----------|-------|
| cold_winter | at_target | 0.000 | 12.98 | 11.82 | 8.9% | 11.61 | 11.04 | 4.9% |
| cold_winter | at_target | 0.050 | 12.98 | 11.47 | 11.6% | 11.61 | 10.04 | **13.5%** |
| shoulder_season | at_target | 0.000 | 8.88 | 8.15 | 8.3% | 6.24 | 5.57 | 10.7% |
| shoulder_season | at_target | 0.050 | 8.88 | 5.68 | 36.0% | 6.24 | 5.07 | **18.7%** |
| shoulder_season | recovery | 0.050 | 9.80 | 5.62 | 42.6% | 7.17 | 3.98 | **44.4%** |
| mild_summer | at_target | 0.000 | 7.03 | 6.85 | 2.6% | 2.20 | 1.48 | 32.9% |
| mild_summer | at_target | 0.010 | 7.03 | 3.10 | 55.9% | 2.20 | 1.41 | **36.1%** |
| mild_summer | idle_opp | 0.010 | 6.99 | 3.06 | 56.3% | 2.11 | 1.35 | **36.0%** |
| hot_summer | at_target | 0.000 | 9.51 | 9.13 | 4.0% | 6.36 | 5.37 | **15.5%** |
| hot_summer | at_target | 0.010 | 9.51 | 6.59 | 30.8% | 6.36 | 6.20 | 2.4% |
| hot_summer | idle_opp | 0.000 | 9.43 | 9.07 | 3.7% | 6.27 | 5.28 | **15.8%** |
| hot_summer | idle_opp | 0.010 | 9.43 | 6.67 | 29.2% | 6.27 | 6.00 | 4.4% |

## Key Findings

1. **Heating (W=0.05):** Discrete savings 13-44% ✅
2. **Mild summer cooling (W=0.01):** Discrete savings 36% ✅
3. **Hot summer cooling:** W=0 is better (15% vs 2-4%) ❌

## Production Configuration

| Mode | Weight | Discrete Savings |
|------|--------|------------------|
| Heating | `W_BOUNDARY_PULL_HEAT = 0.05` | 13-44% |
| Cooling | `W_BOUNDARY_PULL_COOL = 0.0` | 15% (W=0 beats W>0) |

## Reproducibility

```bash
.venv/bin/python scripts/verify_snapping.py
```
